<html>
  <style>
    body {
        background-image: linear-gradient(120deg,rgba(30,30,30),rgba(10,10,10) 100%);
        color: #fff;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
    }
    canvas {
      filter: blur(50px);
      box-shadow: 120px 80px 40px 20px #0ff;
    }
    p {
      color: white;
    }
    #logo {
      Position: Absolute;
      right: 10vw;
      top: 10vh;
    }
  </style>
  <head>
    <meta charset="UTF-8">
	  <meta name="description" content="Solo Rising 1">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://theFragly.com/Solo-Rising/">
    <meta property="og:title" content="Solo-Rising [ IN-DEV ]">
    <meta property="og:description" content="Solo Rising is a Solo Leveling Inspired game aimed to release before Christmas. It features auto generated dungeons, a big map and an awesome community">
    <meta property="og:image" content="https://cdn.discordapp.com/icons/858147033398771732/8b419633800688d045debd906cd2c6f6.webp">

	  <meta name="keywords" content="Fragly, Fraglys website, Fragly website">
	  <meta name="author" content="Fragly">
		<!--<link rel="icon" href="../../recourses/sakura.png">-->
    <title>Solo Rising</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <img id="logo" src="SoloRising3.png">
    <p style="position:absolute;top:50vh;left:25vw">Still working on the website and shite L</p>
<canvas id="canvas"></canvas>

</body>
  <script>
    (function () {
    var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
    window.requestAnimationFrame = requestAnimationFrame;
})();

var canvas = document.getElementById("canvas"),
    ctx = canvas.getContext("2d");

canvas.height = window.innerHeight;
canvas.width = window.innerWidth;

var parts = [],
    minSpawnTime = 20,
    lastTime = new Date().getTime(),
    maxLifeTime = 6500+Math.sin(lastTime)
    emitterX = 0,
    emitterY = canvas.height*1.25,
    smokeImage = new Image();

function spawn() {
    if (new Date().getTime() > lastTime + minSpawnTime) {
        lastTime = new Date().getTime();
        parts.push(new smoke(Math.random()*canvas.width*1.5-canvas.width/2, emitterY));
    }
}

function render() {
    var len = parts.length;
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    while (len--) {
        if (parts[len].lifeTime > maxLifeTime) {
            parts.splice(len, 1);

        } else {
            parts[len].update();

            ctx.save();
            var offsetX = -parts[len].size/2,
                offsetY = -parts[len].size/2;

            ctx.translate(parts[len].x-offsetX, parts[len].y-offsetY);
            ctx.rotate(parts[len].angle / 180 * Math.PI);
            ctx.globalAlpha  = parts[len].alpha;
            ctx.drawImage(smokeImage, offsetX,offsetY, parts[len].size, parts[len].size);
            ctx.restore();
        }
    }
    spawn();
    requestAnimationFrame(render);
}

function smoke(x, y, index) {
    this.x = x;
    this.y = y;

    this.size = 1;
    this.startSize = 200;
    this.endSize = 400;

    this.angle = Math.random() * 359;

    this.startLife = new Date().getTime();
    this.lifeTime = 0;

    this.velY = -2 - (Math.random()*0.5);
    this.velX = 2+Math.floor(Math.random() * (-6) + 3) / 10 ;
}

smoke.prototype.update = function () {
    this.lifeTime = new Date().getTime() - this.startLife;
    this.angle += 0.2;

    var lifePerc = ((this.lifeTime / maxLifeTime) * 100);

    this.size = this.startSize + ((this.endSize - this.startSize) * lifePerc * .1);

    this.alpha = 1 - (lifePerc * .01);
    this.alpha = Math.max(this.alpha,0);

    this.x += this.velX;
    this.y += this.velY;
}

smokeImage.src = "smoke.png";
smokeImage.onload = function () {
    render();
}


window.onresize = resizeMe;
window.onload = resizeMe;
function resizeMe() {
   canvas.height = window.innerHeight;
}

    </script>

</html>
